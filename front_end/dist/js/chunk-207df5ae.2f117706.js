(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-207df5ae"],{"2eb0":function(t,e,r){"use strict";r("af47")},8713:function(t,e,r){},"9be0":function(t,e,r){},af47:function(t,e,r){},b82b:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"manageHotel-wrapper"},[r("a-tabs",[r("a-tab-pane",{key:"2",attrs:{tab:"订单管理"}},[r("a-table",{attrs:{columns:t.columns2,dataSource:t.orderListOfCurrentHotel,bordered:""},scopedSlots:t._u([{key:"price",fn:function(e){return r("span",{},[t._v(" ￥"+t._s(e)+" ")])}},{key:"orderState",fn:function(e){return r("span",{},[r("a-tag",{attrs:{color:"blue"}},[t._v(" "+t._s(e.orderState)+" ")]),null!=e.appeal&&"申诉待审核"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"blue"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e(),null!=e.appeal&&"审核未通过"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"red"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e(),null!=e.appeal&&"审核通过"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"green"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e()],1)}},{key:"roomType",fn:function(e){return r("span",{},["BigBed"==e?r("span",[t._v("大床房")]):t._e(),"DoubleBed"==e?r("span",[t._v("双床房")]):t._e(),"Family"==e?r("span",[t._v("家庭房")]):t._e()])}},{key:"action",fn:function(e){return r("span",{},[r("a-button",{attrs:{type:"primary",size:"small",ghost:"",icon:"profile"},on:{click:function(r){return t.showOrderDetail(e)}}},[t._v("订单详情")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"确定想删除该订单吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(r){return t.comfirmDeleteOrder(e.id)}}},[r("a-button",{attrs:{type:"danger",icon:"delete",size:"small",ghost:""}},[t._v("删除订单")])],1),r("a-divider"),"已撤销"!==e.orderState&&"已入住"!==e.orderState?r("a-button",{attrs:{type:"primary",size:"small",icon:"home",ghost:""},on:{click:function(r){return t.checkedInBtn(e)}}},[t._v("登记入住")]):t._e(),"已撤销"===e.orderState?r("a-button",{staticStyle:{color:"gray"},attrs:{type:"defalut",size:"small",icon:"home",ghost:""},on:{click:function(e){return t.$message.error("用户已撤销订单")}}},[t._v("登记入住")]):t._e(),"已入住"===e.orderState?r("a-button",{staticStyle:{color:"gray"},attrs:{type:"defalut",size:"small",icon:"home",ghost:""},on:{click:function(e){return t.$message.error("已完成入住登记")}}},[t._v("登记入住")]):t._e(),r("a-divider",{attrs:{type:"vertical"}}),null!=e.appeal&&"申诉待审核"==e.appeal.appealStatus?r("a-button",{attrs:{type:"danger",ghost:"",size:"small",icon:"message"},on:{click:function(r){return t.checkAppeal(e)}}},[t._v("查看申诉")]):null!=e.appeal?r("a-button",{staticStyle:{color:"gray"},attrs:{type:"defalut",ghost:"",size:"small",icon:"message"},on:{click:function(r){return t.checkAppeal(e)}}},[t._v("重新审核")]):t._e(),null==e.appeal?r("a-button",{staticStyle:{color:"gray"},attrs:{type:"defalut",ghost:"",size:"small",icon:"message"},on:{click:function(e){return t.$message.error("用户尚未申诉")}}},[t._v("没有申诉")]):t._e()],1)}}])})],1)],1),r("AddHotelModal"),r("UpdateHotelModal"),r("AddRoomModal"),r("Coupon"),r("appeal-review-modal"),r("order-detail-card")],1)},s=[],o=(r("c726"),r("d0bf"),r("b784"),r("6a61"),r("2e91")),l=r("d211"),n=r("cf6b"),c=r("e39b"),d=r("9653"),i=r("855c"),p=r("88c9"),u=r("4173"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-modal",{staticStyle:{top:"20px"},attrs:{visible:t.orderDetailCardVisibleHM,title:"订单详情",width:"700px",footer:null},on:{cancel:t.closeDetail}},["已撤销"===t.currentOrderOfHM.orderState?r("a-steps",{attrs:{current:1}},[r("a-step",{attrs:{title:"已下单",description:"下单成功"}}),r("a-step",{attrs:{title:"已撤销",status:"error",description:"撤销成功 可申诉"}}),null!=t.currentOrderOfHM.appeal?r("a-step",{attrs:{title:"已申诉",status:"finish",description:"申诉已提交"}}):t._e(),null!=t.currentOrderOfHM.appeal&&"申诉待审核"===t.currentOrderOfHM.appeal.appealStatus?r("a-step",{attrs:{title:"申诉待审核",status:"wait",description:"等待管理员审核"}}):t._e(),null!=t.currentOrderOfHM.appeal&&"审核未通过"===t.currentOrderOfHM.appeal.appealStatus?r("a-step",{attrs:{title:"申诉失败",status:"error",description:"审核未通过"}},[r("a-icon",{attrs:{slot:"icon",type:"frown"},slot:"icon"})],1):t._e(),null!=t.currentOrderOfHM.appeal&&"审核通过"===t.currentOrderOfHM.appeal.appealStatus?r("a-step",{attrs:{title:"申诉成功",status:"finish",description:"审核已通过"}},[r("a-icon",{attrs:{slot:"icon",type:"smile-o"},slot:"icon"})],1):t._e()],1):t._e(),"已预订"===t.currentOrderOfHM.orderState||"已入住"===t.currentOrderOfHM.orderState?r("a-steps",{attrs:{current:0}},[r("a-step",{attrs:{title:"下单",description:t.currentOrderOfHM.createDate+"下单成功"}}),r("a-step",{attrs:{title:"入住",status:"process",description:"入住时间 : "+t.currentOrderOfHM.checkInDate}}),r("a-step",{attrs:{title:"退房",status:"process",description:"退房时间 : "+t.currentOrderOfHM.checkOutDate}})],1):t._e(),r("a-card",{staticStyle:{"margin-top":"30px"},attrs:{title:"房间类型:"}},[void 0!=t.currentOrderOfHM.room?r("img",{staticStyle:{width:"100%",height:"250px"},attrs:{slot:"cover",src:t.currentOrderOfHM.room.roomImg},slot:"cover"}):t._e(),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"客户姓名",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfHM.clientName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"酒店名称",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.hotelName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单编号",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.id))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.checkInDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"退房时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.checkOutDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"下单时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.createDate))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间类型",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfHM.roomType))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"单间价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.room.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间数量",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.roomNum))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住人数",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.peopleNum)+"人")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfHM.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单状态",bordered:!1}},[null!=t.currentOrderOfHM.appeal?r("p",[t._v(t._s(t.currentOrderOfHM.orderState)+" "+t._s(t.currentOrderOfHM.appeal.appealStatus))]):r("p",[t._v(t._s(t.currentOrderOfHM.orderState)+" ")])])],1)],1)],1)],1)},f=[],_={name:"orderDetailCard",computed:Object(l["a"])({},Object(n["c"])(["orderDetailCardVisibleHM","currentOrderOfHM"])),data:function(){return{}},beforeCreate:function(){},mounted:function(){},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(n["d"])(["set_orderDetailCardVisibleHM"])),Object(n["b"])([])),{},{closeDetail:function(){this.set_orderDetailCardVisibleHM(!1)}})},b=_,m=r("c701"),h=Object(m["a"])(b,O,f,!1,null,null,null),H=h.exports,v=r("cd3d"),M=(r("caaf"),[{title:"酒店名",dataIndex:"name"},{title:"商圈",dataIndex:"bizRegion"},{title:"地址",dataIndex:"address"},{title:"酒店星级",dataIndex:"hotelStar"},{title:"评分",dataIndex:"rate"},{title:"简介",dataIndex:"description"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}]),g=[{title:"订单号",dataIndex:"id"},{title:"酒店名",dataIndex:"hotelName"},{title:"房型",dataIndex:"roomType",scopedSlots:{customRender:"roomType"}},{title:"入住时间",dataIndex:"checkInDate",scopedSlots:{customRender:"checkInDate"}},{title:"离店时间",dataIndex:"checkOutDate",scopedSlots:{customRender:"checkOutDate"}},{title:"入住人数",dataIndex:"peopleNum"},{title:"房价",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"状态",key:"state",filters:[{text:"异常",value:"异常"},{text:"已预订",value:"已预订"},{text:"已撤销",value:"已撤销"},{text:"已入住",value:"已入住"},{text:"申诉待审核",value:"申诉待审核"},{text:"申诉成功",value:"审核通过"},{text:"申诉失败",value:"审核未通过"}],onFilter:function(t,e){return e.orderState.includes(t)||null!=e.appeal&&e.appeal.appealStatus.includes(t)},scopedSlots:{customRender:"orderState"}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],S={name:"manageHotel",data:function(){return{formLayout:"horizontal",pagination:{},columns1:M,columns2:g,form:this.$form.createForm(this,{name:"manageHotel"})}},components:{OrderDetailCard:v["a"],appealReviewModal:u["a"],AddHotelModal:c["a"],UpdateHotelModal:d["a"],AddRoomModal:i["a"],Coupon:p["a"],orderDetailCard:H},computed:Object(l["a"])({},Object(n["c"])(["userInfo","userId","orderListOfCurrentHotel","hotelList","addHotelModalVisible","updateHotelModalVisible","addRoomModalVisible","currentHotelId","couponVisible","currentHotelId","currentHotelInfo","orderDetailCardVisibleHM","currentOrderOfHM"])),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHotelByHMId(t.userId);case 2:return e.next=4,t.autoUpdateOrderStatus();case 4:return e.next=6,t.getOrderListOfCurrentHotel();case 6:case"end":return e.stop()}}),e)})))()},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(n["d"])(["set_appealReviewOrderId","set_addHotelModalVisible","set_updateHotelModalVisible","set_addRoomModalVisible","set_couponVisible","set_currentHotelId","set_appealReviewModalVisible","set_appealCreditRechargeimfo","set_orderDetailCardVisibleHM","set_currentOrderOfHM"])),Object(n["b"])(["getHotelList","getHotelByHMId","getHotelCoupon","deleteOrder","getHotelById","getAppealMessageReviewByOID","deleteHotel","checkedIn","autoUpdateOrderStatus","getOrderListOfCurrentHotel"])),{},{addHotel:function(t){this.set_addHotelModalVisible(!0)},updateHotel:function(t){this.set_currentHotelId(Number(t.id)),this.set_updateHotelModalVisible(!0)},addRoom:function(t){this.set_currentHotelId(t.id),this.set_currentHotelId(Number(t.id)),this.getHotelById(),this.set_addRoomModalVisible(!0)},showCoupon:function(t){this.set_currentHotelId(t.id),this.set_couponVisible(!0),this.getHotelCoupon()},deleteThisHotel:function(t){this.set_currentHotelId(Number(t.id)),this.deleteHotel()},checkAppeal:function(t){this.set_appealReviewOrderId(Number(t.id)),this.set_appealCreditRechargeimfo({id:t.userId,amount:t.price/5}),this.getAppealMessageReviewByOID(),this.set_appealReviewModalVisible(!0)},comfirmDeleteOrder:function(t){this.deleteOrder(t)},checkedInBtn:function(t){this.checkedIn(t)},showOrderDetail:function(t){this.set_orderDetailCardVisibleHM(!this.orderDetailCardVisibleHM),this.set_currentOrderOfHM(t)}})},y=S,I=(r("2eb0"),r("d210"),r("f075"),Object(m["a"])(y,a,s,!1,null,"e99cdaa6",null));e["default"]=I.exports},cd3d:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-modal",{staticStyle:{top:"20px"},attrs:{visible:t.orderDetailCardVisible,title:"订单详情",width:"700px",footer:null},on:{cancel:t.closeDetail}},["已撤销"===t.currentOrderOfUser.orderState?r("a-steps",{attrs:{current:1}},[r("a-step",{attrs:{title:"已下单",description:"下单成功"}}),r("a-step",{attrs:{title:"已撤销",status:"error",description:"撤销成功 可申诉"}}),null!=t.currentOrderOfUser.appeal?r("a-step",{attrs:{title:"已申诉",status:"finish",description:"申诉已提交"}}):t._e(),null!=t.currentOrderOfUser.appeal&&"申诉待审核"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉待审核",status:"wait",description:"等待管理员审核"}}):t._e(),null!=t.currentOrderOfUser.appeal&&"审核未通过"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉失败",status:"error",description:"审核未通过"}},[r("a-icon",{attrs:{slot:"icon",type:"frown"},slot:"icon"})],1):t._e(),null!=t.currentOrderOfUser.appeal&&"审核通过"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉成功",status:"finish",description:"审核已通过"}},[r("a-icon",{attrs:{slot:"icon",type:"smile-o"},slot:"icon"})],1):t._e()],1):t._e(),"已预订"===t.currentOrderOfUser.orderState||"已入住"===t.currentOrderOfUser.orderState?r("a-steps",{attrs:{current:0}},[r("a-step",{attrs:{title:"下单",description:t.currentOrderOfUser.createDate+"下单成功"}}),r("a-step",{attrs:{title:"入住",status:"process",description:"入住时间 : "+t.currentOrderOfUser.checkInDate}}),r("a-step",{attrs:{title:"退房",status:"process",description:"退房时间 : "+t.currentOrderOfUser.checkOutDate}})],1):t._e(),r("a-card",{staticStyle:{"margin-top":"30px"},attrs:{title:"房间类型:"}},[void 0!=t.currentOrderOfUser.room?r("img",{staticStyle:{width:"100%",height:"250px"},attrs:{slot:"cover",src:t.currentOrderOfUser.room.roomImg},slot:"cover"}):t._e(),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"客户姓名",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfUser.clientName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"酒店名称",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.hotelName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单编号",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.id))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.checkInDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"退房时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.checkOutDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"下单时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.createDate))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间类型",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfUser.roomType))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"单间价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.room.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间数量",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.roomNum))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住人数",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.peopleNum)+"人")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单状态",bordered:!1}},[null!=t.currentOrderOfUser.appeal?r("p",[t._v(t._s(t.currentOrderOfUser.orderState)+" "+t._s(t.currentOrderOfUser.appeal.appealStatus))]):r("p",[t._v(t._s(t.currentOrderOfUser.orderState)+" ")])])],1)],1)],1)],1)},s=[],o=r("d211"),l=r("cf6b"),n={name:"orderDetailCard",computed:Object(o["a"])({},Object(l["c"])(["orderDetailCardVisible","currentOrderOfUser"])),data:function(){return{}},beforeCreate:function(){},mounted:function(){},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])(["set_orderDetailCardVisible"])),Object(l["b"])([])),{},{closeDetail:function(){this.set_orderDetailCardVisible(!1)}})},c=n,d=r("c701"),i=Object(d["a"])(c,a,s,!1,null,null,null);e["a"]=i.exports},d210:function(t,e,r){"use strict";r("8713")},f075:function(t,e,r){"use strict";r("9be0")}}]);
//# sourceMappingURL=chunk-207df5ae.2f117706.js.map