(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a36b868"],{"00a5":function(t,e,r){var a=r("42cc"),s=r("3d7c"),n=r("1f17"),o=n("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==s(t))}},"3fcc":function(t,e,r){"use strict";r("d295")},"3fce":function(t,e,r){"use strict";r("ab1ab")},"55ad":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-modal",{attrs:{visible:t.historyOrderModalVisible,title:"优惠策略",width:"900px",footer:null},on:{cancel:t.cancel}},[r("a-table",{attrs:{columns:t.columns,dataSource:t.historyOrderList,bordered:""},scopedSlots:t._u([{key:"price",fn:function(e){return r("span",{},[r("span",[t._v("￥"+t._s(e))])])}},{key:"roomType",fn:function(e){return r("span",{},[r("span",[t._v(t._s(e))])])}},{key:"orderState",fn:function(e){return r("span",{},[r("a-tag",{attrs:{color:"blue"}},[t._v(" "+t._s(e.orderState)+" ")]),null!=e.appeal&&"申诉待审核"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"blue"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e(),null!=e.appeal&&"审核未通过"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"red"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e(),null!=e.appeal&&"审核通过"==e.appeal.appealStatus?r("a-tag",{attrs:{color:"green"}},[t._v(" "+t._s(e.appeal.appealStatus)+" ")]):t._e()],1)}},{key:"action",fn:function(e){return r("span",{},[r("a-button",{attrs:{type:"primary",icon:"search",size:"small",ghost:""},on:{click:function(r){return t.showOrderDetail(e)}}},[t._v("查看")])],1)}}])}),r("order-detail-card")],1)],1)},s=[],n=(r("c726"),r("b784"),r("d211")),o=r("cf6b"),c=r("cd3d"),i=[{title:"订单号",dataIndex:"id"},{title:"酒店名",dataIndex:"hotelName"},{title:"房型",dataIndex:"roomType",scopedSlots:{customRender:"roomType"}},{title:"入住时间",dataIndex:"checkInDate",scopedSlots:{customRender:"checkInDate"}},{title:"离店时间",dataIndex:"checkOutDate",scopedSlots:{customRender:"checkOutDate"}},{title:"入住人数",dataIndex:"peopleNum"},{title:"房价",dataIndex:"price"},{title:"状态",key:"state",scopedSlots:{customRender:"orderState"},filters:[{text:"异常",value:"异常"},{text:"已预订",value:"已预订"},{text:"已撤销",value:"已撤销"},{text:"已入住",value:"已入住"},{text:"申诉待审核",value:"申诉待审核"},{text:"申诉成功",value:"审核通过"},{text:"申诉失败",value:"审核未通过"}],onFilter:function(t,e){return e.orderState.includes(t)||null!=e.appeal&&e.appeal.appealStatus.includes(t)}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],l={name:"historyOrderMoal",data:function(){return{columns:i}},components:{orderDetailCard:c["a"]},computed:Object(n["a"])({},Object(o["c"])(["historyOrderModalVisible","historyOrderList","orderDetailCardVisible"])),methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["d"])(["set_historyOrderModalVisible","set_orderDetailCardVisible","set_currentOrderOfUser"])),Object(o["b"])([])),{},{cancel:function(){this.set_historyOrderModalVisible(!1)},showOrderDetail:function(t){console.log(this.orderDetailCardVisible),this.set_orderDetailCardVisible(!this.orderDetailCardVisible),this.set_currentOrderOfUser(t)}})},d=l,u=r("c701"),p=Object(u["a"])(d,a,s,!1,null,"b4552b90",null);e["a"]=p.exports},"84d0":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"manageHotelVIPWapper"},[r("a-tabs",[r("a-tab-pane",{key:"1",attrs:{tab:"酒店会员管理"}},[r("div",{staticStyle:{width:"100%","text-align":"right",margin:"20px 0"}}),r("a-table",{staticStyle:{"font-weight":"bold"},attrs:{columns:t.columns,dataSource:t.vipListOfCurrentHotel,bordered:""},scopedSlots:t._u([{key:"avatarUrl",fn:function(t){return r("span",{},[r("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t}})])}},{key:"action",fn:function(e){return r("span",{},[r("a-button",{attrs:{type:"primary",size:"small",icon:"bar-chart",ghost:""},on:{click:function(r){return t.showHistoryDetailOfTheHotel(e)}}},[t._v("查看该用户下单记录")]),r("a-divider"),r("a-popconfirm",{attrs:{title:"确定想取消该用户会员资格吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(r){return t.deleteVipHotelBtn(e)}}},[r("a-button",{attrs:{type:"danger",size:"small",icon:"delete",ghost:""}},[t._v("取消该用户会员资格")])],1)],1)}}])})],1)],1),r("history-order-modal")],1)},s=[],n=(r("6a61"),r("2e91")),o=r("d211"),c=r("cf6b"),i=r("55ad"),l=[{title:"会员头像",dataIndex:"avatarUrl",scopedSlots:{customRender:"avatarUrl"}},{title:"会员称呼",dataIndex:"userName"},{title:"会员邮箱",dataIndex:"email"},{title:"会员手机号",dataIndex:"phoneNumber"},{title:"信用值",dataIndex:"credit"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],d={name:"manageHotelVIP",computed:Object(o["a"])({},Object(c["c"])(["vipListOfCurrentHotel","orderListOfCurrentHotel","userId","currentHotelId"])),components:{historyOrderModal:i["a"]},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["d"])(["set_historyOrderModalVisible","set_historyOrderList"])),Object(c["b"])(["getVipListOfCurrentHotel","autoUpdateOrderStatus","getOrderListOfCurrentHotel","getHotelList","getHotelByHMId","deleteVIPHotel"])),{},{showHistoryDetailOfTheHotel:function(t){console.log(this.orderListOfCurrentHotel);for(var e=t.id,r=[],a=0;a<this.orderListOfCurrentHotel.length;a++)this.orderListOfCurrentHotel[a].userId===e&&r.push(this.orderListOfCurrentHotel[a]);this.set_historyOrderList(r),this.set_historyOrderModalVisible(!0)},deleteVipHotelBtn:function(t){this.deleteVIPHotel({userId:t.id,hotelId:this.currentHotelId})}}),mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHotelByHMId(t.userId);case 2:return e.next=4,t.getVipListOfCurrentHotel();case 4:return e.next=6,t.autoUpdateOrderStatus();case 6:return e.next=8,t.getOrderListOfCurrentHotel();case 8:case"end":return e.stop()}}),e)})))()},data:function(){return{columns:l}}},u=d,p=(r("3fcc"),r("3fce"),r("c701")),O=Object(p["a"])(u,a,s,!1,null,"7370705a",null);e["default"]=O.exports},"98f2":function(t,e,r){var a=r("1f17"),s=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[s]=!1,"/./"[t](e)}catch(a){}}return!1}},ab1ab:function(t,e,r){},b203:function(t,e,r){var a=r("00a5");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},b784:function(t,e,r){"use strict";var a=r("a09b"),s=r("b203"),n=r("4340"),o=r("98f2");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(n(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},c726:function(t,e,r){"use strict";var a=r("a09b"),s=r("6158").includes,n=r("c119"),o=r("c1e5"),c=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!c},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},cd3d:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-modal",{staticStyle:{top:"20px"},attrs:{visible:t.orderDetailCardVisible,title:"订单详情",width:"700px",footer:null},on:{cancel:t.closeDetail}},["已撤销"===t.currentOrderOfUser.orderState?r("a-steps",{attrs:{current:1}},[r("a-step",{attrs:{title:"已下单",description:"下单成功"}}),r("a-step",{attrs:{title:"已撤销",status:"error",description:"撤销成功 可申诉"}}),null!=t.currentOrderOfUser.appeal?r("a-step",{attrs:{title:"已申诉",status:"finish",description:"申诉已提交"}}):t._e(),null!=t.currentOrderOfUser.appeal&&"申诉待审核"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉待审核",status:"wait",description:"等待管理员审核"}}):t._e(),null!=t.currentOrderOfUser.appeal&&"审核未通过"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉失败",status:"error",description:"审核未通过"}},[r("a-icon",{attrs:{slot:"icon",type:"frown"},slot:"icon"})],1):t._e(),null!=t.currentOrderOfUser.appeal&&"审核通过"===t.currentOrderOfUser.appeal.appealStatus?r("a-step",{attrs:{title:"申诉成功",status:"finish",description:"审核已通过"}},[r("a-icon",{attrs:{slot:"icon",type:"smile-o"},slot:"icon"})],1):t._e()],1):t._e(),"已预订"===t.currentOrderOfUser.orderState||"已入住"===t.currentOrderOfUser.orderState?r("a-steps",{attrs:{current:0}},[r("a-step",{attrs:{title:"下单",description:t.currentOrderOfUser.createDate+"下单成功"}}),r("a-step",{attrs:{title:"入住",status:"process",description:"入住时间 : "+t.currentOrderOfUser.checkInDate}}),r("a-step",{attrs:{title:"退房",status:"process",description:"退房时间 : "+t.currentOrderOfUser.checkOutDate}})],1):t._e(),r("a-card",{staticStyle:{"margin-top":"30px"},attrs:{title:"房间类型:"}},[void 0!=t.currentOrderOfUser.room?r("img",{staticStyle:{width:"100%",height:"250px"},attrs:{slot:"cover",src:t.currentOrderOfUser.room.roomImg},slot:"cover"}):t._e(),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"客户姓名",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfUser.clientName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"酒店名称",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.hotelName))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单编号",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.id))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.checkInDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"退房时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.checkOutDate))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"下单时间",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.createDate))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间类型",bordered:!1}},[r("p",[t._v(" "+t._s(t.currentOrderOfUser.roomType))])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"单间价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.room.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"房间数量",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.roomNum))])])],1)],1),r("a-row",{attrs:{gutter:1}},[r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"入住人数",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.peopleNum)+"人")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单价格",bordered:!1}},[r("p",[t._v(t._s(t.currentOrderOfUser.price)+" RMB")])])],1),r("a-col",{attrs:{span:8}},[r("a-card",{attrs:{title:"订单状态",bordered:!1}},[null!=t.currentOrderOfUser.appeal?r("p",[t._v(t._s(t.currentOrderOfUser.orderState)+" "+t._s(t.currentOrderOfUser.appeal.appealStatus))]):r("p",[t._v(t._s(t.currentOrderOfUser.orderState)+" ")])])],1)],1)],1)],1)},s=[],n=r("d211"),o=r("cf6b"),c={name:"orderDetailCard",computed:Object(n["a"])({},Object(o["c"])(["orderDetailCardVisible","currentOrderOfUser"])),data:function(){return{}},beforeCreate:function(){},mounted:function(){},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["d"])(["set_orderDetailCardVisible"])),Object(o["b"])([])),{},{closeDetail:function(){this.set_orderDetailCardVisible(!1)}})},i=c,l=r("c701"),d=Object(l["a"])(i,a,s,!1,null,null,null);e["a"]=d.exports},d295:function(t,e,r){}}]);
//# sourceMappingURL=chunk-4a36b868.d4e575e5.js.map