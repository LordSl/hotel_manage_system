(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128a1952"],{"5bad":function(t,e,a){"use strict";a("70cf")},"70cf":function(t,e,a){},a680:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manageAD-wrapper"},[a("a-tabs",[a("a-tab-pane",{key:"1",attrs:{tab:"广告管理"}},[a("div",{staticStyle:{width:"100%","text-align":"right",margin:"20px 0"}},[a("a-upload",{attrs:{name:"file",multiple:!0,customRequest:t.customRequest,showUploadList:!1}},[a("a-button",{attrs:{type:"primary",icon:"cloud-upload"}},[t._v(" 广告图片上传 ")])],1)],1),a("a-table",{staticStyle:{"font-weight":"bold"},attrs:{columns:t.columns,dataSource:t.adManageList,bordered:""},scopedSlots:t._u([{key:"img",fn:function(t){return a("span",{},[a("img",{staticStyle:{height:"250px",width:"700px"},attrs:{src:t}})])}},{key:"binded",fn:function(e){return a("span",{},[-1===e.hotelId?a("p",[t._v("未绑定")]):t._e(),-1!==e.hotelId?a("p",[t._v("酒店 ID : "+t._s(e.hotelId))]):t._e(),-1!==e.hotelId?a("a-divider"):t._e(),-1!==e.hotelId?a("p",[t._v("酒店名称 : "+t._s(e.hotel.name))]):t._e(),-1!==e.hotelId?a("a-divider"):t._e(),-1!==e.hotelId?a("p",[t._v("酒店地址 : "+t._s(e.hotel.address))]):t._e()],1)}},{key:"action",fn:function(e){return a("span",{},[a("a-button",{staticStyle:{"font-weight":"bold"},attrs:{type:"danger",icon:"rest"},on:{click:function(a){return t.deleteAD(e.adId)}}},[t._v("删除广告")]),a("a-divider"),null==e.hotel?a("a-button",{staticStyle:{"font-weight":"bold"},attrs:{type:"primary",ghost:"",icon:"bank"},on:{click:function(a){return t.bindADHotel(e.adId)}}},[t._v("绑定酒店")]):t._e(),null!=e.hotel?a("a-button",{staticStyle:{"font-weight":"bold"},attrs:{type:"primary",ghost:"",icon:"bank"},on:{click:function(a){return t.bindADHotel(e.adId)}}},[t._v("修改绑定")]):t._e()],1)}}])})],1)],1),a("bind-a-d-hotel-modal")],1)},o=[],i=(a("6a61"),a("2e91")),s=a("d211"),l=a("cf6b"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{visible:t.bindADHotelModalVisible,width:"1000px",title:"绑定酒店",footer:null,cancelText:"取消",okText:"确定"},on:{cancel:t.cancel}},[a("a-Form",{attrs:{form:t.form}},[a("a-form-item",t._b({staticStyle:{float:"left"},attrs:{label:"酒店名称"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hotelName",{rules:[{required:!0,message:"请先输入该广告要绑定的酒店名称"}]}],expression:"[\n                    'hotelName',\n                    { rules: [{required: true, message: '请先输入该广告要绑定的酒店名称', }] }\n                ]"}],staticStyle:{width:"300px"},attrs:{pressEnter:"searchHotelListByName",placeholder:"请输入该广告要绑定的酒店名称"}})],1),a("a-button",{staticStyle:{left:"40px",top:"4px"},attrs:{type:"primary",ghost:"",icon:"search"},on:{click:t.searchHotelListByName}},[t._v("搜索")])],1),a("a-table",{staticStyle:{clear:"left"},attrs:{columns:t.columns1,dataSource:t.matchedHotelList,bordered:"",pagination:!0},scopedSlots:t._u([{key:"action",fn:function(e){return a("span",{},[a("a-button",{attrs:{type:"primary",icon:"tool",ghost:""},on:{click:function(a){return t.bindADHotelBtn(e.id)}}},[t._v("绑定")])],1)}}])})],1)},c=[],d=[{title:"酒店名",dataIndex:"name"},{title:"商圈",dataIndex:"bizRegion"},{title:"地址",dataIndex:"address"},{title:"酒店星级",dataIndex:"hotelStar"},{title:"评分",dataIndex:"rate"},{title:"简介",dataIndex:"description"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],u={name:"updateManagerModal",data:function(){return{columns1:d,formItemLayout:{labelCol:{xs:{span:12},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},computed:Object(s["a"])({},Object(l["c"])(["bindADHotelModalVisible","matchedHotelList"])),beforeCreate:function(){this.form=this.$form.createForm(this,{name:"bindADHotelModal"})},mounted:function(){},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])(["set_bindADHotelVisible"])),Object(l["b"])(["getHotelListByName","bindADHotel"])),{},{cancel:function(){this.set_bindADHotelVisible(!1)},searchHotelListByName:function(){var t=this;this.form.validateFieldsAndScroll((function(e,a){e||t.getHotelListByName(t.form.getFieldValue("hotelName"))}))},bindADHotelBtn:function(t){this.bindADHotel(t),this.form.setFieldsValue({hotelName:""})}})},m=u,b=a("c701"),p=Object(b["a"])(m,r,c,!1,null,null,null),f=p.exports,h=[{title:"广告预览",dataIndex:"adImgUrl",scopedSlots:{customRender:"img"}},{title:"酒店信息",scopedSlots:{customRender:"binded"}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],y={name:"manageAdvertisement",components:{bindADHotelModal:f},computed:Object(s["a"])({},Object(l["c"])(["adManageList"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])(["set_bindADHotelVisible","set_currentADId"])),Object(l["b"])(["getAdvertisementList","deleteADById","uploadADImg"])),{},{deleteAD:function(t){this.deleteADById(t)},customRequest:function(t){var e=new FormData;e.append("file",t.file),this.uploadADImg(e)},bindADHotel:function(t){this.set_bindADHotelVisible(!0),this.set_currentADId(t)}}),data:function(){return{columns:h}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"manageAdvertisement"})},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAdvertisementList();case 2:case"end":return e.stop()}}),e)})))()}},g=y,_=(a("c0cb"),a("5bad"),Object(b["a"])(g,n,o,!1,null,"52ad2928",null));e["default"]=_.exports},c0cb:function(t,e,a){"use strict";a("f640")},f640:function(t,e,a){}}]);
//# sourceMappingURL=chunk-128a1952.91c26e63.js.map